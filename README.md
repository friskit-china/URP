URP
===

homework for "Database application"

######本产品历时27小时写完成，内容简陋，由于很多功能类似，外加考试周压力大，所以很多体力劳动都省略了

现已实现
------
1. 所有的查询功能
2. 学院信息编辑
3. 系信息编辑
4. 教师个人信息编辑

产品特色
------
1. 使用轻量级J2EE框架Struts+Hibernate
2. 前端界面完美支持HTML5，并兼容IE7.0+
3. 大量使用Ajax技术减少数据传输，增加用户体验
4. 原创映射模型，耦合度低，非常适合功能扩展和维护

产品不足
------
1. 由于时间紧迫，功能实现并不是很细致
2. 对于版本太老的IE，兼容性不强
3. 开放前没有经过太严格的设计和规划，所以在远程部署时可能会遇到URL转换等问题
4. 权限验证功能没有实现。（打算为不同权限的用户拼接不同的功能节点，达到分组权限功能，但由于时间问题，此部分尚未添加，但已经预留好接口方便日后扩展）
5. 部分未经细致加工的查询页面中的外键引用没有转换到对用户友好的形式。（重点页面有此功能）

大致原理
------
>上述带有编辑功能的模块是经过精细制作的。实现了查询，修改等功能。其他模块由于原理类似仅实现基本查询功能。
>项目采用Struts2作为MVC框架、Hibernate作为ORM引擎、采用Smarty4J作为模板解释引擎、JQuery MiniUI作为前端显示框架。
>模板映射大致原理如下。
>主页使用MiniUI的Tree控件，实现对多个节点功能的相应。节点被点击后会向Struts请求页面，此时Struts将调用Smarty4J，将映射文件中的模板文件渲染后返回。
>返回的模板被作为子框架显示在主页中。模板中使用json作为数据传输格式实现Ajax。

使用说明
------
1. 导入数据库：登陆SqlPlus后，在某用户名下运行"restore_windows"文件夹下的run.sql
2. 部署：将WebRoot部署到Tomcat等服务器上，项目名称必须叫做"FriskitURP"。例如http://192.168.1.2:8080/FriskitURP
3. 配置数据库连接：打开WebRoot/WEB-INF/classes/hibernate.cfg.xml文件，配置属性为“connection.url”的链接标识。
4. 运行

其他
------
本项目全部代码已经托管至Github。
使用Git可以下载、分发、修改。
Github地址：https://github.com/friskit-china/URP
